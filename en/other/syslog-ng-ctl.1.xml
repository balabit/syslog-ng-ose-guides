<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE reference 
[  
  <!ENTITY % entities SYSTEM "../syslog-ng-admin-guide/syslog-ng-entities.ent">
  %entities;
  ]> 
<reference xml:id="syslog-ng-ctl-man-page" xmlns="http://docbook.org/ns/docbook" version="5.0">
  <title>The syslog-ng control tool manual page</title>
  <info>
    <productname>&product;</productname>
  </info>
  <refentry xml:id="syslog-ng-ctl.1">
    <refmeta>
      <refentrytitle>syslog-ng-ctl</refentrytitle>
      <manvolnum>1</manvolnum>
      <refmiscinfo class='version'>&version;</refmiscinfo>
      <refmiscinfo class='source'>&product;</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>syslog-ng-ctl</refname>
      <refpurpose>Display message statistics and enable verbose, debug and trace modes in &product; </refpurpose>
    </refnamediv>
    <refsynopsisdiv>
      <cmdsynopsis>
        <command>syslog-ng-ctl</command>
        <arg>command</arg>
        <arg>options</arg>
      </cmdsynopsis>
    </refsynopsisdiv>
    <refsect1 xml:id="syslog-ng-ctl_mandescription">
      <title>Description</title>
      <para>NOTE: The syslog-ng-ctl application is distributed with the &product; system logging application, and is usually part of the syslog-ng package. The latest version of the syslog-ng application is available at <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/network-security/syslog-ng/"
        >the official syslog-ng website</link>.</para>
      <para>This manual page is only an abstract; for the complete documentation of syslog-ng, see
          <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/support/documentation/">
          <command>The &product; Administrator Guide</command>
        </link>.</para>
      <para>The <command>syslog-ng-ctl</command> application is a utility that can be used to:</para>
      <itemizedlist>
        <listitem>
          <para>enable/disable various syslog-ng messages for troubleshooting;</para>
        </listitem>
        <listitem>
          <para>display statistics about the processed messages;</para>
        </listitem>
        <listitem>
            <para>reload the configuration of &abbrev;.</para>
        </listitem>
      </itemizedlist>
    </refsect1>
    <refsect1 xml:id="syslog-ng-ctl">
      <title>Enabling troubleshooting messages</title>
      <cmdsynopsis>
        <command>command</command>
        <arg>options</arg>
      </cmdsynopsis>
      <para>Use the <command>syslog-ng-ctl &lt;command&gt; --set=on</command> command to display verbose, trace, or debug messages. If you are trying to solve configuration problems, the debug (and occassionally trace) messages are usually sufficient; debug messages are needed mostly for finding software errors. After solving the problem, do not forget to turn these messages off using the <command>syslog-ng-ctl &lt;command&gt; --set=off</command>. Note that enabling debug messages does not enable verbose and trace messages.</para>
      <para>Use <command>syslog-ng-ctl &lt;command&gt;</command> without any parameters to display whether the particular type of messages are enabled or not.</para>
      <para>If you need to use a non-standard control socket to access syslog-ng, use the <command>syslog-ng-ctl &lt;command&gt; --set=on --control=&lt;socket&gt;</command> command to specify the socket to use.</para>
      <variablelist>
        <varlistentry>
          <term><command>verbose</command></term>
          <listitem>
            <para>Print verbose messages. If syslog-ng was started with the <parameter>--stderr</parameter> or <parameter>-e</parameter> option, the messages will be sent to stderr. If not specified, syslog-ng will log such messages to its internal source.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><command>trace</command></term>
          <listitem>
            <para>Print trace messages of how messages are processed. If syslog-ng was started with the <parameter>--stderr</parameter> or <parameter>-e</parameter> option, the messages will be sent to stderr. If not specified, syslog-ng will log such messages to its internal source.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><command>debug</command></term>
          <listitem>
            <para>Print debug messages. If syslog-ng was started with the <parameter>--stderr</parameter> or <parameter>-e</parameter> option, the messages will be sent to stderr. If not specified, syslog-ng will log such messages to its internal source.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>Example: <synopsis>syslog-ng-ctl verbose --set=on</synopsis></para>
    </refsect1>    
    <refsect1 xml:id="syslog-ng-ctl-stats">
      <title>The stats command</title>
      <cmdsynopsis>
        <command>stats</command>
        <arg>options</arg>
      </cmdsynopsis>
      <para>Use the <command>stats</command> command to display statistics about the processed messages. The <command>stats</command> command has the following options:</para>
      <variablelist>
        <varlistentry>
          <term><command>--control=&lt;socket&gt;</command> or <command>-c</command></term>
          <listitem>
            <para>Specify the socket to use to access syslog-ng. Only needed when using a non-standard socket.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>Example:
        <synopsis>syslog-ng-ctl stats</synopsis></para>
        <para>An example output:</para>
        <synopsis>src.internal;s_all#0;;a;processed;6445
src.internal;s_all#0;;a;stamp;1268989330
destination;df_auth;;a;processed;404
destination;df_news_dot_notice;;a;processed;0
destination;df_news_dot_err;;a;processed;0
destination;d_ssb;;a;processed;7128
destination;df_uucp;;a;processed;0
source;s_all;;a;processed;7128
destination;df_mail;;a;processed;0
destination;df_user;;a;processed;1
destination;df_daemon;;a;processed;1
destination;df_debug;;a;processed;15
destination;df_messages;;a;processed;54
destination;dp_xconsole;;a;processed;671
dst.tcp;d_network#0;10.50.0.111:514;a;dropped;5080
dst.tcp;d_network#0;10.50.0.111:514;a;processed;7128
dst.tcp;d_network#0;10.50.0.111:514;a;stored;2048
destination;df_syslog;;a;processed;6724
destination;df_facility_dot_warn;;a;processed;0
destination;df_news_dot_crit;;a;processed;0
destination;df_lpr;;a;processed;0
destination;du_all;;a;processed;0
destination;df_facility_dot_info;;a;processed;0
center;;received;a;processed;0
destination;df_kern;;a;processed;70
center;;queued;a;processed;0
destination;df_facility_dot_err;;a;processed;0</synopsis>
    </refsect1>
    <refsect1 xml:id="syslog-ng-ctl-reload">
        <title>Reloading the configuration</title>
        <cmdsynopsis>
            <command>command</command>
            <arg>options</arg>
        </cmdsynopsis>
        <para>Use the <command>syslog-ng-ctl reload</command> command to reload the configuration file of &abbrev; without having to restart the &abbrev; application. The  <command>syslog-ng-ctl reload</command> works like a SIGHUP.</para>
    </refsect1>
    <refsect1>
      <title>Files</title>
      <para>
        <filename>/opt/syslog-ng/sbin/syslog-ng-ctl</filename>
      </para>
    </refsect1>
    <refsect1>
      <title>See also</title>
      <para>
        <link xmlns:ns1="http://www.w3.org/1999/xlink" ns1:href="http://www.balabit.com/support/documentation/">
          <command>The syslog-ng Administrator Guide</command>
        </link>
      </para>
      <para>
        <link linkend="syslog-ng.conf.5">
          <command>syslog-ng.conf</command>(5)</link>
      </para>
      <para>
        <link linkend="syslog-ng.8">
          <command>syslog-ng</command>(8)</link>
      </para>
        <xi:include href="manpage-common.xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(//note[@id='manpage-see-also']/*)"/>
    </refsect1>
    <refsect1>
        <xi:include href="manpage-common.xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(//refsect1[@id='manpage-author']/*)"/>
    </refsect1>
    <refsect1>
        <xi:include href="manpage-common.xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(//refsect1[@id='manpage-copyright']/*)"/>
    </refsect1>
    </refentry>
</reference>
