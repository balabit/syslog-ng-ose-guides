<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE reference SYSTEM "../xml-stylesheet/pdf/dtd/docbookx.dtd"
[
   <!ENTITY % entities SYSTEM "../syslog-ng-admin-guide/syslog-ng-entities.ent">
  %entities;
  ]> 
<reference>
  <title>The syslog-ng manual page</title>
  <info>
    <productname>&product;</productname>
  </info>
  <refentry id="syslog-ng.8">
    <refmeta>
      <refentrytitle>syslog-ng</refentrytitle>
      <manvolnum>8</manvolnum>
      <refmiscinfo class='version'>&version;</refmiscinfo>
      <refmiscinfo class='source'>&product;</refmiscinfo>
    </refmeta>
    <refnamediv>
      <refname>syslog-ng</refname>
      <refpurpose>syslog-ng system logger application</refpurpose>
    </refnamediv>
    <refsynopsisdiv>
      <cmdsynopsis>
        <command>syslog-ng</command>
        <arg>options</arg>
      </cmdsynopsis>
    </refsynopsisdiv>
    <refsect1 id="syslog-ng_mandescription">
      <title>Description</title>
      <para>This manual page is only an abstract; for the complete documentation of syslog-ng, see <ulink url="http://www.balabit.com/support/documentation/"><command>The &product; Administrator Guide</command></ulink> or <ulink url="http://www.balabit.com/network-security/syslog-ng/">the official syslog-ng website</ulink>.</para>
      <para>The &abbrev; application is a flexible and highly scalable system logging application.
        Typically, syslog-ng is used to manage log messages and implement centralized logging, where
        the aim is to collect the log messages of several devices on a single, central log server.
        The different devices - called syslog-ng clients - all run syslog-ng, and collect the log
        messages from the various applications, files, and other <emphasis>sources</emphasis>. The
        clients send all important log messages to the remote syslog-ng server, where the server
        sorts and stores them.</para>
    </refsect1>
    <refsect1>
      <title>Options</title>
      <variablelist>
        <varlistentry>
          <term>
            <command>--caps</command>
          </term>
          <listitem>
            <para>Run &abbrev; process with the specified POSIX capability flags.</para>
            <itemizedlist>
                <listitem>
                    <para>If the <parameter>--no-caps</parameter> option is not set,<phrase condition="ose">&abbrev; has been compiled with the <parameter>--enable-linux-caps</parameter> compile option,</phrase> and the host supports CAP_SYSLOG, &abbrev; uses the following capabilities: <parameter>"cap_net_bind_service,cap_net_broadcast,cap_net_raw,cap_dac_read_search,cap_dac_override,cap_chown,cap_fowner=p cap_syslog=ep"</parameter></para>
                </listitem>
                <listitem>
                    <para>If the <parameter>--no-caps</parameter> option is not set, and the host does not support CAP_SYSLOG, &abbrev; uses the following capabilities: <parameter>"cap_net_bind_service,cap_net_broadcast,cap_net_raw,cap_dac_read_search,cap_dac_override,cap_chown,cap_fowner=p cap_sys_admin=ep"</parameter></para>
                </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--cfgfile &lt;file&gt;</command> or <command>-f
            &lt;file&gt;</command>
          </term>
          <listitem>
            <para>Use the specified configuration file.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--chroot &lt;dir&gt;</command> or <command>-C
            &lt;dir&gt;</command>
          </term>
          <listitem>
            <para>Change root to the specified directory. The configuration file is read after chrooting so, the configuration file must be available within the chroot. That way it is also possible to reload the syslog-ng configuration after chrooting. However, note that the <parameter>--user</parameter> and <parameter>--group</parameter> options are resolved before chrooting.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--debug</command> or <command>-d</command>
          </term>
          <listitem>
            <para>Start syslog-ng in debug mode.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--default-modules</command>
          </term>
          <listitem>
            <para>A comma-separated list of the modules that are loaded automatically. Modules not loaded automatically can be loaded by including the <parameter>@module &lt;modulename&gt;</parameter> statement in the &abbrev; configuration file. The following modules are loaded by default: <parameter condition="pe">affile,afprog,afsocket,afuser,basicfuncs,csvparser,dbparser,syslogformat,aflogstore,diskq,confighash,afsql</parameter><parameter condition="ose">affile,afprog,afsocket,afuser,basicfuncs,csvparser,dbparser,syslogformat,afsql</parameter>. Available only in <phrase condition="pe">syslog-ng Premium Edition 4.1</phrase><phrase condition="ose">syslog-ng Open Source Edition 3.3</phrase> and later.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--enable-core</command>
          </term>
          <listitem>
            <para>Enable syslog-ng to write core files in case of a crash to help support and
              debugging.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--fd-limit &lt;number&gt;</command>
          </term>
          <listitem>
            <para>Set the minimal number of required file descriptors (fd-s); this sets how many
              files syslog-ng can keep open simultaneously. Default value:
              <parameter>4096</parameter>. Note that this does not override the global ulimit
              setting of the host.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--foreground</command> or <command>-F</command>
          </term>
          <listitem>
            <para>Do not daemonize, run in the foreground.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--group &lt;group&gt;</command> or <command>-g
            &lt;group&gt;</command>
          </term>
          <listitem>
            <para>Switch to the specified group after initializing the configuration file.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--help</command> or <command>-h</command>
          </term>
          <listitem>
            <para>Display a brief help message.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--module-registry</command>
          </term>
          <listitem>
            <para>Display the list and description of the available modules. Note that not all of these modules are loaded automatically, only the ones specified in the <command>--default-modules</command> option. Available only in <phrase condition="pe">syslog-ng Premium Edition 4 F1</phrase> <phrase condition="ose">syslog-ng Open Source Edition 3.3</phrase> and later.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--no-caps</command>
          </term>
          <listitem>
            <para>Run syslog-ng as root, without capability-support. This is the default behavior.
              On Linux, it is possible to run syslog-ng as non-root with capability-support if
              syslog-ng was compiled with the <parameter>--enable-linux-caps</parameter> option
              enabled. (Execute <command>syslog-ng --version</command> to display the list of
              enabled build parameters.)</para>
              <para>To run &abbrev; with specific capabilities, use the <parameter>--caps</parameter> option.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--persist-file &lt;persist-file&gt;</command> or <command>-R
              &lt;persist-file&gt;</command>
          </term>
          <listitem>
            <para>Set the path and name of the <filename>syslog-ng.persist</filename> file where the
              persistent options and data are stored.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--pidfile &lt;pidfile&gt;</command> or <command>-p
              &lt;pidfile&gt;</command>
          </term>
          <listitem>
            <para>Set path to the PID file where the pid of the main process is stored.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--preprocess-into &lt;output-file&gt;</command>
          </term>
          <listitem>
            <para>After processing the configuration file and resolving included files and variables, write the resulting configuration into the specified output file. Available only in <phrase condition="pe">syslog-ng Premium Edition 4 F1</phrase> <phrase condition="ose">syslog-ng Open Source Edition 3.3</phrase> and later.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--process-mode &lt;mode&gt;</command>
            <!-- or <command>-P
              &lt;pidfile&gt;</command>-->
          </term>
          <listitem>
            <para>Sets how to run syslog-ng: in the <parameter>foreground</parameter> (mainly used
              for debugging), in the <parameter>background</parameter> as a daemon, or in
                <parameter>safe-background</parameter> mode. By default, syslog-ng runs in <parameter>safe-background</parameter>
            mode. This mode creates a supervisor process called <parameter>supervising syslog-ng</parameter> , that restarts syslog-ng if it
              crashes.</para>
          </listitem>
        </varlistentry>
        <varlistentry condition="pe">
          <term>
            <command>--qdisk-dir &lt;path&gt;</command> or <command>-Q
            &lt;path&gt;</command>
          </term>
          <listitem>
            <para>Specify the location of the file used for disk-based buffering. By default, this
              file is located at <filename>/opt/syslog-ng/var/</filename>.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--stderr</command> or <command>-e</command>
          </term>
          <listitem>
            <para>Log internal messages of syslog-ng to stderr. Mainly used for debugging purposes
              in conjunction with the <parameter>--foreground</parameter> option. If not specified, syslog-ng will log such messages to its internal source.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--syntax-only</command> or <command>-s</command>
          </term>
          <listitem>
            <para>Verify that the configuration file is syntactically correct and exit.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--user &lt;user&gt;</command> or <command>-u
            &lt;user&gt;</command>
          </term>
          <listitem>
            <para>Switch to the specified user after initializing the configuration file (and
              optionally chrooting). Note that it is not possible to reload the syslog-ng
              configuration if the specified user has no privilege to create the
              <filename>/dev/log</filename> file.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--verbose</command> or <command>-v</command>
          </term>
          <listitem>
            <!-- FIXME nincs argumentuma, mit csinal pontosan? -->
            <para>Enable verbose logging used to troubleshoot syslog-ng.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--version</command> or <command>-V</command>
          </term>
          <listitem>
            <para>Display version number and compilation information, and also the list and short description of the available modules. For detailed description of the available modules, see the <command>--module-registry</command> option. Note that not all of these modules are loaded automatically, only the ones specified in the <command>--default-modules</command> option.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>--worker-threads</command>
          </term>
          <listitem>
            <para>Sets the number of worker threads &abbrev; can use, including the main &abbrev; thread. Note that certain operations in &abbrev; can use threads that are not limited by this option. This setting has effect only when &abbrev; is running in multithreaded mode. Available only in <phrase condition="pe">syslog-ng Premium Edition 4 F1</phrase> <phrase condition="ose">syslog-ng Open Source Edition 3.3</phrase> and later. See <command>The &product; &version; Administrator Guide</command> for details.</para>
            <xi:include href="../syslog-ng-admin-guide/chapters/reference_common.xml" xpointer="xpointer(//note[@id = 'note-limit-processors']/node() )" xmlns:xi="http://www.w3.org/2001/XInclude"/>
            <xi:include href="../syslog-ng-admin-guide/chapters/reference_common.xml" xpointer="xpointer(//warning[@id = 'warning-limit-processors']/node() )" xmlns:xi="http://www.w3.org/2001/XInclude"/>
            
            <!-- Entities are not used in the above conditional phrases because the man page output does not handle conditions -->
          </listitem>
        </varlistentry>
      </variablelist>
    </refsect1>
    <refsect1 id="syslog-ng-default-command-line-options" condition="pe">
        <title>Setting default command-line options</title>
        <para>You can set default settings for &abbrev; &mdash; &abbrev; will always run with these default command-line parameters. You can specify your default settings in the following files:</para>
        <itemizedlist>
            <listitem>
                <para><filename>/etc/default/syslog-ng</filename></para>
            </listitem>
            <listitem>
                <para><filename>/etc/sysconfig/syslog-ng</filename> (only for RedHat platforms)</para>
            </listitem>
            <listitem>
                <para><filename>$SYSLOGNG_PREFIX/etc/default/syslog-ng</filename>, where $SYSLOGNG_PREFIX is the installation directory of &abbrev;. For version 4.0, this is <filename>/opt/syslog-ng</filename></para>
            </listitem>
        </itemizedlist>
        <para>During startup, &abbrev; will automatically use the settings from these files if they exist. You can set the following options:</para>
        <variablelist>
            <varlistentry>
                <term>
                    <command>MAXWAIT</command>
                </term>
                <listitem>
                    <para>The number of seconds the init script will wait for &abbrev; to shut down properly. If the &abbrev; process does not shut down during this period, it is terminated with a SIGKILL signal. Increase this value if you have lots of separate disk-buffer files (for example, to 60 seconds).</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>SYSLOGNG_OPTIONS</command>
                </term>
                <listitem>
                    <para>A string of additional command-line options for the syslog-ng daemon.</para>
                </listitem>
            </varlistentry>
        </variablelist>
    </refsect1>
    <refsect1>
      <title>Files</title>
      <para>
        <filename>/opt/syslog-ng/</filename>
      </para>
      <para>
        <filename>/opt/syslog-ng/etc/syslog-ng.conf</filename>
      </para>
    </refsect1>
    <refsect1>
      <title>See also</title>
      <para><link linkend="syslog-ng.conf.5"><command>syslog-ng.conf</command>(5)</link></para>
      <xi:include href="manpage-common.xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(//note[@id='manpage-see-also']/*)"/>
    </refsect1> 
    <refsect1>
        <xi:include href="manpage-common.xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(//refsect1[@id='manpage-author']/*)"/>
    </refsect1>
    <refsect1>
        <xi:include href="manpage-common.xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(//refsect1[@id='manpage-copyright']/*)"/>
    </refsect1>
  </refentry>
</reference>
