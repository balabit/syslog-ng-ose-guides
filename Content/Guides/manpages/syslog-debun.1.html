<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.2.0">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">
  <title>The syslog-debun manual page</title>
  <meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
  <div class="reference">
    <div class="titlepage">
      <div>
        <div>
          <h1 class="title"><a name="idm45833980137344" id=
          "idm45833980137344"></a>The syslog-debun manual page</h1>
        </div>
      </div>
      <hr>
    </div>
    <div class="toc">
      <p><b>Table of Contents</b></p>
      <dl class="toc">
        <dt><span class="refentrytitle"><a href=
        "#syslog-debun.1">syslog-debun</a></span> <span class=
        "refpurpose">— syslog-ng DEBUg buNdle generator</span></dt>
      </dl>
    </div>
    <div class="refentry">
      <a name="syslog-debun.1" id="syslog-debun.1"></a>
      <div class="titlepage"></div>
      <div class="refnamediv">
        <h6>Name</h6>
        <p>syslog-debun — syslog-ng DEBUg buNdle generator</p>
      </div>
      <div class="refsynopsisdiv">
        <h6>Synopsis</h6>
        <div class="cmdsynopsis">
          <p><code class="command">syslog-debun</code>
          [options]</p>
        </div>
      </div>
      <div class="refsection">
        <a name="syslog-debun-mandescription" id=
        "syslog-debun-mandescription"></a>
        <h6>Description</h6>
        <p>NOTE: The <span class=
        "command"><strong>syslog-debun</strong></span> application
        is distributed with the <span class="phrase">syslog-ng
        PE</span> system logging application, and is usually part
        of the <span class="phrase">syslog-ng PE</span> package.
        The latest version of the <span class="phrase">syslog-ng
        PE</span> application is available at the <span class=
        "phrase"><a class="link" href="https://syslog-ng.com"
        target="_top">syslog-ng page</a></span>.</p>
        <p>This manual page is only an abstract, for the complete
        documentation of syslog-ng, see the <span class=
        "phrase"><a class="link" href=
        "https://www.syslog-ng.com" target=
        "_top">syslog-ng Documentation page</a></span>.</p>
        <p>The <span class=
        "command"><strong>syslog-debun</strong></span> tool
        collects and saves information about your <span class=
        "phrase">syslog-ng PE</span> installation, making
        troubleshooting easier, especially if you ask help about
        your <span class="phrase">syslog-ng PE</span> related
        problem.</p>
      </div>
      <div class="refsection">
        <a name="idm45833954249296" id="idm45833954249296"></a>
        <h6>General Options</h6>
        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><span class=
            "command"><strong>-h</strong></span></span></dt>
            <dd>
              <p>Display the help page.</p>
            </dd>
            <dt><span class="term"><span class=
            "command"><strong>-l</strong></span></span></dt>
            <dd>
              <p>Do not collect privacy-sensitive data, for
              example, process tree, fstab, and so on. If you use
              with <strong class=
              "userinput"><code>-d</code></strong>, then the
              following parameters will be used for debug
              mode:<strong class=
              "userinput"><code>-Fev</code></strong></p>
            </dd>
            <dt><span class="term"><span class="command"><strong>-R
            &lt;directory&gt;</strong></span></span></dt>
            <dd>
              <p>The directory where <span class="phrase">syslog-ng
              PE</span> is installed instead of <code class=
              "filename">/opt/syslog-ng</code>.</p>
            </dd>
            <dt><span class="term"><span class="command"><strong>-W
            &lt;directory&gt;</strong></span></span></dt>
            <dd>
              <p>Set the working directory, where the debug bundle
              will be saved. Default value: <code class=
              "filename">/tmp</code>. The name of the created file
              is <strong class=
              "userinput"><code>syslog.debun.${host}.${date}.${3-random-characters-or-pid}.tgz</code></strong></p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="refsection">
        <a name="idm45833954237040" id="idm45833954237040"></a>
        <h6>Debug mode options</h6>
        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><span class=
            "command"><strong>-d</strong></span></span></dt>
            <dd>
              <p>Start <span class="phrase">syslog-ng PE</span> in
              debug mode, using the <strong class=
              "userinput"><code>-Fedv --enable-core</code></strong>
              options.</p>
              <p>Warning! Using this option under high message load
              may increase disk I/O during the debug, and the
              resulting debug bundle can be huge. To exit debug
              mode, press Enter.</p>
            </dd>
            <dt><span class="term"><span class="command"><strong>-D
            &lt;options&gt;</strong></span></span></dt>
            <dd>
              <p>Start <span class="phrase">syslog-ng PE</span> in
              debug mode, using the specified command-line options.
              To exit debug mode, press Enter. For details on the
              available options, see <a class="xref" href=
              "#">???</a>.</p>
            </dd>
            <dt><span class="term"><span class="command"><strong>-t
            &lt;seconds&gt;</strong></span></span></dt>
            <dd>
              <p>Run <span class="phrase">syslog-ng PE</span> in
              noninteractive debug mode for &lt;seconds&gt;, and
              automatically exit debug mode after the specified
              number of seconds.</p>
            </dd>
            <dt><span class="term"><span class="command"><strong>-w
            &lt;seconds&gt;</strong></span></span></dt>
            <dd>
              <p>Wait &lt;seconds&gt; seconds before starting debug
              mode.</p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="refsection">
        <a name="idm45833954223296" id="idm45833954223296"></a>
        <h6>System call tracing</h6>
        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><span class=
            "command"><strong>-s</strong></span></span></dt>
            <dd>
              <p>Enable syscall tracing (<span class=
              "command"><strong>strace -f</strong></span> or
              <span class="command"><strong>truss
              -f</strong></span>). Note that using <strong class=
              "userinput"><code>-s</code></strong> itself does not
              enable debug mode, only traces the system calls of an
              already running <span class="phrase">syslog-ng
              PE</span> process. To trace system calls in debug
              mode, use both the <strong class=
              "userinput"><code>-s</code></strong> and
              <strong class="userinput"><code>-d</code></strong>
              options.</p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="refsection">
        <a name="idm45833954217168" id="idm45833954217168"></a>
        <h6>Packet capture options</h6>
        <p>Capturing packets requires a packet capture tool on the
        host. The <span class=
        "command"><strong>syslog-debun</strong></span> tool
        attempts to use <span class=
        "command"><strong>tcpdump</strong></span> on most
        platforms, except for Solaris, where it uses <span class=
        "command"><strong>snoop</strong></span>.</p>
        <div class="variablelist">
          <dl class="variablelist">
            <dt><span class="term"><span class="command"><strong>-i
            &lt;interface&gt;</strong></span></span></dt>
            <dd>
              <p>Capture packets only on the specified interface,
              for example, <strong class=
              "userinput"><code>eth0</code></strong>.</p>
            </dd>
            <dt><span class="term"><span class=
            "command"><strong>-p</strong></span></span></dt>
            <dd>
              <p>Capture incoming packets using the following
              filter: <strong class="userinput"><code>port 514 or
              port 601 or port 53</code></strong></p>
            </dd>
            <dt><span class="term"><span class="command"><strong>-P
            &lt;options&gt;</strong></span></span></dt>
            <dd>
              <p>Capture incoming packets using the specified
              filter.</p>
            </dd>
            <dt><span class="term"><span class="command"><strong>-t
            &lt;seconds&gt;</strong></span></span></dt>
            <dd>
              <p>Run <span class="phrase">syslog-ng PE</span> in
              noninteractive debug mode for &lt;seconds&gt;, and
              automatically exit debug mode after the specified
              number of seconds.</p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="refsection">
        <a name="idm45833954204400" id="idm45833954204400"></a>
        <h6>Examples</h6>
        <pre class="synopsis">syslog-debun</pre>
        <p>Create a simple debug bundle, collecting information
        about your environment, for example, list packages
        containing the word: syslog, ldd of your syslog-binary, and
        so on.</p>
        <pre class="synopsis">syslog-debun -l</pre>
        <p>Similar to <span class=
        "command"><strong>syslog-debun</strong></span>, but without
        privacy-sensitive information. For example, the following
        is NOT collected: fstab, df output, mount info, ip /
        network interface configuration, DNS resolv info, and
        process tree.</p>
        <pre class="synopsis">syslog-debun -d</pre>
        <p>Similar to <span class=
        "command"><strong>syslog-debun</strong></span>, but it also
        stops syslog-ng, then restarts it in debug mode
        (<strong class="userinput"><code>-Fedv
        --enable-core</code></strong>). To stop debug mode, press
        Enter. The output of the debug mode collected into a
        separate file, and also added to the debug bundle.</p>
        <pre class="synopsis">syslog-debun -s</pre>
        <p>Trace the system calls (using <span class=
        "command"><strong>strace</strong></span> or <span class=
        "command"><strong>truss</strong></span>) of an already
        running <span class="phrase">syslog-ng PE</span>
        process.</p>
        <pre class="synopsis">syslog-debun -d -s</pre>
        <p>Restart <span class="phrase">syslog-ng PE</span> in
        debug mode, and also trace the system calls (using
        <span class="command"><strong>strace</strong></span> or
        <span class="command"><strong>truss</strong></span>) of the
        <span class="phrase">syslog-ng PE</span> process.</p>
        <pre class="synopsis">syslog-debun -p</pre>
        <p>Run packet capture (pcap) with the filter:
        <strong class="userinput"><code>port 514 or port 601 or
        port 53</code></strong> Also waits for pressing Enter, like
        debug mode.</p>
        <pre class="synopsis">syslog-debun -p -t 10</pre>
        <p>Noninteractive debug mode: Similar to <span class=
        "command"><strong>syslog-debun -p</strong></span>, but
        automatically exit after 10 seconds.</p>
        <pre class="synopsis">
        syslog-debun -P "host 1.2.3.4"  -D "-Fev --enable-core"</pre>
        <p>Change the packet-capturing filter from the default to
        <strong class="userinput"><code>host
        1.2.3.4</code></strong>. Also change debugging parameters
        from the default to <strong class="userinput"><code>-Fev
        --enable-core</code></strong>. Since a timeout
        (<strong class="userinput"><code>-t</code></strong>) is not
        given, waits for pressing Enter.</p>
        <pre class="synopsis">syslog-debun -p -d -w 5 -t 10</pre>
        <p>Collect pcap and debug mode output following this
        scenario:</p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc;">
            <li class="listitem">
              <p>Start packet capture with default parameters
              (<strong class=
              "userinput"><code>-p</code></strong>)</p>
            </li>
            <li class="listitem">
              <p>Wait 5 seconds (<strong class="userinput"><code>-w
              5</code></strong>)</p>
            </li>
            <li class="listitem">
              <p>Stop syslog-ng</p>
            </li>
            <li class="listitem">
              <p>Start syslog-ng in debug mode with default
              parameters (<strong class=
              "userinput"><code>-d</code></strong>)</p>
            </li>
            <li class="listitem">
              <p>Wait 10 seconds (<strong class=
              "userinput"><code>-t 10</code></strong>)</p>
            </li>
            <li class="listitem">
              <p>Stop syslog-ng debuging</p>
            </li>
            <li class="listitem">
              <p>Start syslog-ng</p>
            </li>
            <li class="listitem">
              <p>Stop packet capturing</p>
            </li>
          </ul>
        </div>
      </div>
      <div class="refsection">
        <a name="idm45833954179824" id="idm45833954179824"></a>
        <h6>Files</h6>
        <p><code class=
        "filename">/opt/syslog-ng/bin/loggen</code></p>
      </div>
      <div class="refsection">
        <a name="idm45833954178240" id="idm45833954178240"></a>
        <h6>See also</h6>
        <p><a class="link" href="#"><span class=
        "command"><strong>syslog-ng.conf</strong></span>(5)</a></p>
        <div class="note" style=
        "margin-left: 0.5in; margin-right: 0.5in;">
          <b>Note</b>
          <p>For the detailed documentation of <span class=
          "phrase">syslog-ng PE</span> see <a class="link" href=
          "https://syslog-ng.com/documents/html/syslog-ng-ose-latest-guides/en/syslog-ng-ose-guide-admin/html/index.html"
          target="_top"><span class="command"><strong>The
          <span class="phrase">syslog-ng PE</span> 7 Administrator
          Guide</strong></span></a></p>
          <p>If you experience any problems or need help with
          syslog-ng, visit the <a class="link" href=
          "https://lists.balabit.hu/mailman/listinfo/syslog-ng"
          target="_top"><span class="command"><strong>syslog-ng
          mailing list</strong></span></a>.</p>
          <p>For news and notifications about of syslog-ng, visit
          the <a class="link" href="https://syslog-ng.com/blog/"
          target="_top"><span class="command"><strong>syslog-ng
          blogs</strong></span></a>.</p>
        </div>
      </div>
      <div class="refsection">
        <a name="idm45833954169648" id="idm45833954169648"></a>
        <h6>Author</h6>
        <p>This manual page was written by the One Identity
        Documentation Team.</p>
      </div>
      <div class="refsection">
        <a name="idm45833954168112" id="idm45833954168112"></a>
        <h6>Copyright</h6>
        <p><span class="trademark">Copyright</span>�
        2000-2019<span class="phrase">One Identity</span>. Published
        under the Creative Commons Attribution-Noncommercial-No
        Derivative Works (by-nc-nd) 3.0 license. For details, see
        <a class="link" href="https://creativecommons.org/" target=
        "_top">https://creativecommons.org//</a>. The latest
        version is always available at <a class="link" href=
        "https://www.syslog-ng.com" target=
        "_top">https://www.syslog-ng.com</a>.</p>
      </div>
    </div>
  </div>
</body>
</html>
