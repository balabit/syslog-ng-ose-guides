<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../../Content/Resources/TableStyles/NoteTable_Yellow_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../../Content/Resources/TableStyles/NoteTable_Yellow_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>The syslog-debun manual page</h1>
        <div>
            <h6>Name</h6>
            <p><span class="Code">syslog-debun</span> — syslog-ng DEBUg buNdle generator</p>
        </div>
        <div>
            <h6>Synopsis</h6>
            <p><span class="Code">syslog-debun
				[options]</span>
            </p>
        </div>
        <div class="refsection"><a name="syslog-debun-mandescription" id="syslog-debun-mandescription"></a>
            <h6>Description</h6>
            <div class="Note">
                <p class="Hyphenation"><span class="AllNoteStyles">NOTE:</span> The <span class="Code">syslog-debun</span> application is distributed with the <MadCap:variable name="General.abbrev" /> system logging application, and is usually part of the <MadCap:variable name="General.abbrev" /> package.<MadCap:conditionalText MadCap:conditions="General.OSE"> The latest version of the <MadCap:variable name="General.OSE" /> application is available at the <a href="https://syslog-ng.com/" target="_blank"><MadCap:variable name="General.OSE" /> page</a>.</MadCap:conditionalText></p>
            </div>
            <p>The <span class="Code">syslog-debun</span> tool
			collects and saves information about your <MadCap:variable name="General.OSE" /> installation, making troubleshooting easier, especially if you ask help about your <MadCap:variable name="General.OSE" /> related problem.</p>
        </div>
        <div class="refsection">
            <h6>General Options</h6>
            <ul>
                <li>
                    <p><span class="Code">-r</span>
                    </p>
                    <p>Run <span class="Code">syslog-ng-debun</span>.
 Using this option is required to actually execute the
 data collection with <span class="Code">syslog-ng-debun</span>. It
 is needed to prevent accidentally running
              <span class="Code">syslog-ng-debun</span>.</p>
                </li>
                <li>
                    <p><span class="Code">-h</span>
                    </p>
                    <p>Display the help page.</p>
                </li>
                <li>
                    <p><span class="Code">-l</span>
                    </p>
                    <p>Do not collect privacy-sensitive data, for example, process tree, fstab, and so on. If you use with <span class="Code">-d</span>, then the following parameters will be used for debug mode:<span class="Code">-Fev</span></p>
                </li>
                <li>
                    <p><span class="Code">-R
						&lt;directory&gt;</span>
                    </p>
                    <p>The directory where <MadCap:variable name="General.PE" /> is installed instead of <span class="Code">/opt/syslog-ng</span>.</p>
                </li>
                <li>
                    <p><span class="Code">-W
						&lt;directory&gt;</span>
                    </p>
                    <p>Set the working directory, where the debug bundle will be saved. Default value: <span class="Code">/tmp</span>. The name of the created file is <span class="Code">syslog.debun.${host}.${date}.${3-random-characters-or-pid}.tgz</span></p>
                </li>
            </ul>
        </div>
        <div>
            <h6>Debug mode options</h6>
            <ul>
                <li>
                    <p><span class="Code">-d</span>
                    </p>
                    <p>Start <MadCap:variable name="General.OSE" /> in debug mode, using the <span class="Code">-Fedv --enable-core</span> options.</p>
                    <table style="width: 100%;mc-table-style: url('../../../Content/Resources/TableStyles/NoteTable_Yellow_DoNotEdit.css');" class="TableStyle-NoteTable_Yellow_DoNotEdit" cellspacing="0">
                        <col style="width: 0.3in;" class="TableStyle-NoteTable_Yellow_DoNotEdit-Column-Column1" />
                        <col class="TableStyle-NoteTable_Yellow_DoNotEdit-Column-Column2" />
                        <tbody>
                            <tr class="TableStyle-NoteTable_Yellow_DoNotEdit-Body-Body1">
                                <td class="TableStyle-NoteTable_Yellow_DoNotEdit-BodyB-Column1-Body1">
                                    <p>
                                        <img src="../../Resources/Images/Common/caution.png" />
                                    </p>
                                </td>
                                <td class="TableStyle-NoteTable_Yellow_DoNotEdit-BodyA-Column2-Body1">
                                    <p class="TableHyphen"><span class="Yellow">CAUTION:</span>  Using this option under high message load may increase disk I/O during the debug, and the resulting debug bundle can be huge. To exit debug mode, press Enter.</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </li>
                <li>
                    <p><span class="Code">-D
						&lt;options&gt;</span>
                    </p>
                    <p>Start <MadCap:variable name="General.OSE" /> in debug mode, using the specified command-line options. To exit debug mode, press Enter.</p>
                </li>
                <li>
                    <p><span class="Code">-t
						&lt;seconds&gt;</span>
                    </p>
                    <p>Run <MadCap:variable name="General.OSE" /> in
					noninteractive debug mode for <span class="code">&lt;seconds&gt;</span>, and automatically exit debug mode after the specified number of seconds.</p>
                </li>
                <li>
                    <p><span class="Code">-w &lt;seconds&gt;</span>
                    </p>
                    <p>Wait <span class="code">&lt;seconds&gt;</span> seconds before starting debug
					mode.</p>
                </li>
            </ul>
        </div>
		<div>
			<h6>System call tracing</h6>
			<ul>
				<li>
					<p><span class="Code">-s</span>
					</p>
					<p>Enable syscall tracing (<span class="Code">strace -f</span> or <span class="Code">truss -f</span>). Note that using <span class="Code">-s</span> itself does not enable debug mode, only traces the system calls of an already running <MadCap:variable name="General.OSE" /> process. To trace system calls in debug mode, use both the <span class="Code">-s</span> and <span class="Code">-d</span> options.</p>
				</li>
			</ul>
		</div>
		<div>
			<h6>Packet capture options</h6>
			<p>Capturing packets requires a packet capture tool on the host. The <span class="Code">syslog-debun</span> tool attempts to use <span class="Code">tcpdump</span> on most platforms, except for Solaris, where it uses <span class="Code">snoop</span>.</p>
			<ul>
				<li>
					<p><span class="Code">-i
						&lt;interface&gt;</span>
					</p>
					<p>Capture packets only on the specified interface, for example, <span class="Code">eth0</span>.</p>
				</li>
				<li>
					<p><span class="Code">-p</span>
					</p>
					<p>Capture incoming packets using the following filter: <span class="Code">port 514 or port 601 or port 53</span></p>
				</li>
				<li>
					<p><span class="Code">-P
						&lt;options&gt;</span>
					</p>
					<p>Capture incoming packets using the specified filter.</p>
				</li>
				<li>
					<p><span class="Code">-t
						&lt;seconds&gt;</span>
					</p>
					<p>Run <MadCap:variable name="General.OSE" /> in noninteractive debug mode for <span class="Code">&lt;seconds&gt;</span>, and automatically exit debug mode after the specified number of seconds.</p>
				</li>
			</ul>
		</div>
        <div class="Example"><a name="idm46072214735232"></a>
            <h6>Examples</h6><pre>syslog-ng-debun -r</pre>
            <p>Create a simple debug bundle, collecting information
 about your environment, for example, list packages
 containing the word: <span class="Code">syslog</span>, <span class="Code">ldd</span> of your syslog-binary, and so on.</p><pre>syslog-ng-debun -r -l</pre>
            <p>Similar to <span class="Code">syslog-ng-debun
 -r</span>, but without privacy-sensitive
 information. For example, the following is NOT collected:
 <span class="Code">fstab</span>, df output, mount info, ip / network interface
 configuration, DNS resolv info, and process tree.</p><pre>syslog-ng-debun -r -d</pre>
            <p>Similar to <span class="Code">syslog-ng-debun
 -r</span>, but it also stops <MadCap:variable name="General.OSE" />, then
 restarts it in debug mode (<span class="Code">-Fedv --enable-core</span>). To
 stop debug mode, press Enter. The output of the debug mode
 collected into a separate file, and also added to the debug
 bundle.</p><pre>syslog-ng-debun -r -s</pre>
            <p>Trace the system calls (using <span class="Code">strace</span> or <span class="Code">truss</span>) of an already
 running <MadCap:variable name="General.OSE" /> process.</p><pre>syslog-ng-debun -r -d -s</pre>
            <p>Restart <MadCap:variable name="General.OSE" /> in
 debug mode, and also trace the system calls (using
        <span class="Code">strace</span> or
        <span class="Code">truss</span>) of the
        <MadCap:variable name="General.OSE" /> process.</p>
			<pre>syslog-ng-debun -r -p</pre>
            <p>Run packet capture (<span class="Code">pcap</span>) with the filter:
        <span class="Code">port 514 or port 601 or
 port 53</span> Also waits for pressing Enter, like
 debug mode.</p><pre>syslog-ng-debun -r -p -t 10</pre>
            <p>Noninteractive debug mode: Similar to <span class="Code">syslog-ng-debun -r -p</span>,
 but automatically exit after 10 seconds.</p>
				<pre>
        syslog-ng-debun -r -P "host 1.2.3.4"  -D "-Fev --enable-core"</pre>
            <p>Change the packet-capturing filter from the default to
        <span class="Code">host
 1.2.3.4</span>. Also change debugging parameters
 from the default to <span class="Code">-Fev
 --enable-core</span>. Since a timeout
 (<span class="Code">-t</span>) is not
 given, waits for pressing Enter.</p><pre>
        syslog-ng-debun -r -p -d -w 5 -t 10</pre>
			<p>Collect <span class="Code">pcap</span> and debug mode output following this
			scenario:</p>
			<ul>
				<li>
					<p>Start packet capture with default parameters
					(<span class="Code">-p</span>)</p>
				</li>
				<li>
					<p>Wait 5 seconds (<span class="Code">-w
					5</span>)</p>
				</li>
				<li>
					<p>Stop syslog-ng</p>
				</li>
				<li>
					<p>Start <MadCap:variable name="General.OSE" /> in debug mode with default
					parameters (<span class="Code">-d</span>)</p>
				</li>
				<li>
					<p>Wait 10 seconds (<span class="Code">-t 10</span>)</p>
				</li>
				<li>
					<p>Stop <MadCap:variable name="General.OSE" /> debuging</p>
				</li>
				<li>
					<p>Start <MadCap:variable name="General.OSE" /></p>
				</li>
				<li>
					<p>Stop packet capturing</p>
				</li>
			</ul>
        </div>
		<div>
			<h6>Files</h6>
			<p><span class="Code">/opt/syslog-ng/bin/loggen</span>
			</p>
		</div>
		<div>
			<h6>See also</h6>
			<p>
				<MadCap:xref href="syslog-ng.conf.5.html"><span style="color: #04aada;" class="mcFormatColor">The syslog-ng.conf manual page</span>
				</MadCap:xref>
			</p>
			<div class="Note">
				<p class="Hyphenation"><span class="AllNoteStyles">NOTE:</span> For the detailed documentation of <MadCap:variable name="General.abbrev" /> see <MadCap:conditionalText MadCap:conditions="General.PE"><a href="https://support.oneidentity.com/syslog-ng-premium-edition/technical-documents/" target="_blank"><MadCap:variable name="General.abbrev" /> Documentation page</a></MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE"><a href="https://www.syslog-ng.com/" target="_blank"><MadCap:variable name="General.abbrev" /> Documentation page</a></MadCap:conditionalText>.</p>
				<p>If you experience any problems or need help with <MadCap:variable name="General.abbrev" />, visit the <a href="https://lists.balabit.hu/mailman/listinfo/syslog-ng" target="_blank"><MadCap:variable name="General.syslog-ng" /> mailing list</a>.</p>
				<p>For news and notifications about <MadCap:variable name="General.abbrev" />, visit the <a href="https://syslog-ng.com/blog/" target="_blank"><MadCap:variable name="General.syslog-ng" /> blogs</a>.</p>
			</div>
		</div>
    </body>
</html>