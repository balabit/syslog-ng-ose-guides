<?xml version="1.0" encoding="utf-8"?>
<!-- FIXME should be merged/streamlined with the flow control section -->
<!-- FIXME figure/low-chart needed -->
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="configuring-diskbuffer-reliable" oldrole="section">
        <h1 name="configuring-diskbuffer-reliable">Enabling reliable disk-based buffering</h1>
        <MadCap:snippetBlock src="../../shared/chunk/p-disk-buffer-drivers.htm">
        </MadCap:snippetBlock>
        <p oldrole="para">To enable reliable disk-based buffering, use the <span class="Code" oldrole="userinput">disk-buffer(reliable(yes))</span> parameter in the destination. Use reliable disk-based buffering if you do not want to lose logs in case of reload/restart, unreachable destination or <MadCap:variable name="General.abbrev"></MadCap:variable> crash. This solution provides a slower, but reliable disk-buffer option. It is created and initialized at startup and gradually grows as new messages arrive. The filename of the reliable disk buffer file is the following: <span class="Code" oldrole="filename">&lt;syslog-ng path&gt;/var/syslog-ng-00000.rqf</span>.</p>
        <div class="Example">
            <h6 oldrole="example">Example: Example for using reliable disk-based buffering</h6><pre class="Code" oldrole="synopsis">destination d_BSD {
    network(
            "127.0.0.1"
            port(3333)
            disk-buffer(
                mem-buf-size(10000)
                disk-buf-size(2000000)
                reliable(yes)
            )
        );
}; </pre>
        </div>
        <p oldrole="para">For details on the differences between normal and reliable disk-based buffering, see also <MadCap:xref href="about-disk-buffer-files.htm#about-disk-buffer-files"></MadCap:xref>.</p>
    </body>
</html>