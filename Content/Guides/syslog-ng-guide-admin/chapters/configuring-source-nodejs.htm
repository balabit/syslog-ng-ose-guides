<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="configuring-source-nodejs">
        <h1 name="configuring-source-nodejs"><a name="configuring-source-nodejs"></a><span class="Code" oldrole="parameter">nodejs</span>: Receiving JSON messages from nodejs applications</h1>
        <MadCap:keyword term="source drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;nodejs()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <p>Using the <span class="Code" oldrole="parameter">nodejs()</span> driver, <MadCap:variable name="General.abbrev"></MadCap:variable> can receive application logs directly from nodejs applications that use the widespread <a href="https://github.com/winstonjs/winston">Winston</a> logging API. The <MadCap:variable name="General.abbrev"></MadCap:variable> application automatically adds the <span class="Code" oldrole="parameter">.nodejs.winston.</span> prefix to the name of the fields the extracted from the message.</p>
        <p>To use the <span class="Code" oldrole="parameter">nodejs()</span> driver, the <span class="Code" oldrole="filename">scl.conf</span> file must be included in your <MadCap:variable name="General.abbrev"></MadCap:variable> configuration:</p><pre class="Code" oldrole="synopsis">@include "scl.conf"</pre>
        <p>The <span class="Code" oldrole="parameter">nodejs()</span> driver is actually a reusable configuration snippet configured to receive log messages using the <span class="Code" oldrole="parameter">network()</span> driver, and process its JSON contents. For details on using or writing such configuration snippets, see <MadCap:xref href="config-blocks.htm"><span style="color: #04aada;" class="mcFormatColor">Reusing configuration blocks</span></MadCap:xref>. You can find the source of the nodejs configuration snippet on <a href="https://github.com/syslog-ng/syslog-ng/blob/master/scl/nodejs/plugin.conf">GitHub</a>.</p>
        <div class="Example">
            <h6 name="example-source-nodejs" oldrole="example"><a name="example-source-nodejs"></a>Example: Using the nodejs() driver</h6>
            <p>The following example uses the default settings of the driver, listening for messages on port 9003 of every IP address of the <MadCap:variable name="General.abbrev"></MadCap:variable> host.</p><pre class="Code" oldrole="synopsis">@include "scl.conf"
source apps { nodejs(); };</pre>
            <p>The following example listens only on IP address <span class="Code" oldrole="userinput">192.168.1.1</span>, port <span class="Code" oldrole="userinput">9999</span>.</p><pre class="Code" oldrole="synopsis">@include "scl.conf"
source apps {
    nodejs(
        localip(192.168.1.1)
        port(9999)
    )
};</pre>
        </div>
        <div cellspacing="0" class="Note" oldrole="note" style="width: 100%;"><span class="AllNoteStyles">NOTE: </span>
            <p>For details on the parameters of the <span class="Code" oldrole="parameter">nodejs()</span> driver, see <MadCap:xref href="reference-source-nodejs.htm#reference-source-nodejs"><span style="color: #04aada;" class="mcFormatColor">nodejs() source options</span></MadCap:xref>.</p>
        </div>
    </body>
</html>