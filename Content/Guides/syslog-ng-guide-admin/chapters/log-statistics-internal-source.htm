<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="log-statistics-internal-source" oldrole="section">
        <h1 name="log-statistics-internal-source">Log statistics from the <span class="Code" oldrole="parameter">internal()</span> source</h1>
        <p oldrole="para">If the <a href="reference-options.htm"><span class="Code" oldrole="parameter">stats-freq()</span> global option</a> is higher than 0, <MadCap:variable name="General.abbrev"></MadCap:variable> periodically sends a log statistics message. This message contains statistics about the received messages, and about any lost messages since the last such message. It includes a <span class="Code" oldrole="parameter">processed</span> entry for every source and destination, listing the number of messages received or sent, and a <span class="Code" oldrole="parameter">dropped</span> entry including the IP address of the server for every destination where syslog-ng has lost messages. The <span class="Code" oldrole="userinput">center(received)</span> entry shows the total number of messages received from every configured sources.</p>
        <p oldrole="para">The following is a sample log statistics message for a configuration that has a single source (<span class="Code" oldrole="userinput">s_local</span>) and a network and a local file destination (<span class="Code" oldrole="userinput">d_network</span> and <span class="Code" oldrole="userinput">d_local</span>, respectively). All incoming messages are sent to both destinations.</p><pre class="Code" oldrole="synopsis">Log statistics;
        dropped='tcp(AF_INET(192.168.10.1:514))=6439',
        processed='center(received)=234413',
        processed='destination(d_tcp)=234413',
        processed='destination(d_local)=234413',
        processed='source(s_local)=234413'</pre>
        <p oldrole="para">The statistics include a list of source groups and destinations, as well as the number of processed messages for each. You can control the verbosity of the statistics using the <a href="reference-options.htm"><span class="Code" oldrole="parameter">stats-level()</span> global option</a>. The following is an example output.</p><pre class="Code" oldrole="synopsis">src.internal;s_all#0;;a;processed;6445
src.internal;s_all#0;;a;stamp;1268989330
destination;df_auth;;a;processed;404
destination;df_news_dot_notice;;a;processed;0
destination;df_news_dot_err;;a;processed;0
destination;d_ssb;;a;processed;7128
destination;df_uucp;;a;processed;0
source;s_all;;a;processed;7128
destination;df_mail;;a;processed;0
destination;df_user;;a;processed;1
destination;df_daemon;;a;processed;1
destination;df_debug;;a;processed;15
destination;df_messages;;a;processed;54
destination;dp_xconsole;;a;processed;671
dst.tcp;d_network#0;10.50.0.111:514;a;dropped;5080
dst.tcp;d_network#0;10.50.0.111:514;a;processed;7128
dst.tcp;d_network#0;10.50.0.111:514;a;queued;2048
destination;df_syslog;;a;processed;6724
destination;df_facility_dot_warn;;a;processed;0
destination;df_news_dot_crit;;a;processed;0
destination;df_lpr;;a;processed;0
destination;du_all;;a;processed;0
destination;df_facility_dot_info;;a;processed;0
center;;received;a;processed;0
destination;df_kern;;a;processed;70
center;;queued;a;processed;0
destination;df_facility_dot_err;;a;processed;0</pre>
        <p oldrole="para">The statistics are semicolon separated: every line contains statistics for a particular object (for example source, destination, tag, and so on). The statistics have the following fields:</p>
        <p oldrole="para">To reset the statistics to zero, use the following command: <span class="Code" oldrole="command">syslog-ng-ctl stats --reset</span></p>
    </body>
</html>