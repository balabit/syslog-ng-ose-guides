<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="configuring-destinations-elasticsearch" oldrole="section">
        <h1 name="configuring-destinations-elasticsearch"><span class="Code" oldrole="parameter">elasticsearch</span>: Sending messages directly to Elasticsearch version 1.x</h1>
        <MadCap:keyword term="destination drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;java()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <MadCap:keyword term="destination drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;elasticsearch&lt;/span&gt;]">
        </MadCap:keyword>
        <p oldrole="para">Starting with version <MadCap:conditionaltext MadCap:conditions="pe">5.6</MadCap:conditionaltext><MadCap:conditionaltext MadCap:conditions="ose">3.7</MadCap:conditionaltext> of <MadCap:variable name="General.abbrev"></MadCap:variable> can directly send log messages to <a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a>, allowing you to search and analyze your data in real time, and visualize it with <a href="https://www.elastic.co/products/kibana">Kibana</a>.</p>
        <p oldrole="para">Note the following limitations when using the <MadCap:variable name="General.abbrev"></MadCap:variable> <span class="Code" oldrole="parameter">elasticsearch</span> destination:</p>
        <ul oldrole="itemizedlist">
            <MadCap:snippetBlock src="../../shared/chunk/listitem-java-supported-platforms.htm">
            </MadCap:snippetBlock>
            <li oldrole="listitem">
                <p oldrole="para">Since <MadCap:variable name="General.abbrev"></MadCap:variable> uses the official Java Elasticsearch libraries, the <span class="Code" oldrole="parameter">elasticsearch</span> destination has significant memory usage.</p>
            </li>
            <li condition="ose" oldrole="listitem">
                <p oldrole="para">Sending messages over the HTTP REST API is supported only using the <span class="Code" oldrole="parameter">elastic2()</span> destination. Note that in HTTP mode, the <span class="Code" oldrole="parameter">elasticsearch2</span> destination can send log messages to Elasticsearch version 1.x and newer. For details, see <MadCap:xref href="configuring-destinations-elasticsearch2.htm#configuring-destinations-elasticsearch2"></MadCap:xref>.</p>
            </li>
            <MadCap:snippetBlock src="../../shared/chunk/listitem-java-internal-messages.htm">
            </MadCap:snippetBlock>
        </ul>
        <h6 oldrole="formalpara">Declaration:</h6><pre class="Code" oldrole="synopsis">@module mod-java
@include "scl.conf"

elasticsearch(
    index("syslog-ng_${YEAR}.${MONTH}.${DAY}")
    type("test")
    cluster("syslog-ng")
);</pre>
        <h6 name="example-destination-elasticsearch" oldrole="example">Example: Sending log data to Elasticsearch version 1.x</h6>
        <p oldrole="para">The following example defines an <span class="Code" oldrole="parameter">elasticsearch</span> destination that sends messages in transport mode to an Elasticsearch server version 1.x running on the localhost, using only the required parameters.</p><pre class="Code" oldrole="synopsis">@module mod-java
@include "scl.conf"

destination d_elastic {
  elasticsearch(
    index("syslog-ng_${YEAR}.${MONTH}.${DAY}")
    type("test")
  );
};
</pre>
        <p oldrole="para">The following example sends 10000 messages in a batch, in transport mode, and includes a custom unique ID for each message.</p><pre class="Code" oldrole="synopsis">@module mod-java
@include "scl.conf"

options {
  threaded(yes);
  use-uniqid(yes);
};

source s_syslog {
  syslog();
};

destination d_elastic {
  elasticsearch(
    index("syslog-ng_${YEAR}.${MONTH}.${DAY}")
    type("test")
    cluster("syslog-ng")
    client-mode("transport")
    custom-id("${UNIQID}")
    flush-limit("10000")
  );
};

log {
  source(s_syslog);
  destination(d_elastic);
  flags(flow-control);
};</pre>
        <ul oldrole="itemizedlist">
            <li oldrole="listitem">
                <p oldrole="para">To install the software required for the <span class="Code" oldrole="parameter">elasticsearch</span> destination, see <MadCap:xref href="destination-elasticsearch-prerequisites.htm#destination-elasticsearch-prerequisites"></MadCap:xref>.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">For details on how the <span class="Code" oldrole="parameter">elasticsearch</span> destination works, see <MadCap:xref href="destination-elasticsearch.htm#destination-elasticsearch-interaction"></MadCap:xref>.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">For the list of options, see <MadCap:xref href="destination-elasticsearch.htm#reference-destination-elasticsearch"></MadCap:xref>.</p>
            </li>
        </ul>
        <p condition="ose" oldrole="para">The <span class="Code" oldrole="parameter">elasticsearch()</span> driver is actually a reusable configuration snippet configured to receive log messages using the Java language-binding of <MadCap:variable name="General.abbrev"></MadCap:variable>. For details on using or writing such configuration snippets, see <MadCap:xref href="config-blocks.htm#config-blocks"></MadCap:xref>. You can find the source of the elasticsearch configuration snippet on <a href="https://github.com/balabit/syslog-ng/blob/master/scl/elasticsearch/plugin.conf">GitHub</a>. For details on extending <MadCap:variable name="General.abbrev"></MadCap:variable> in Java, see the <a href="https://syslog-ng.gitbooks.io/getting-started/content/chapters/chapter_5/section_2.html">Getting started with syslog-ng development</a> guide.</p>
        <MadCap:snippetBlock src="destination-elasticsearch-prerequisites.htm">
        </MadCap:snippetBlock>
        <h2 name="destination-elasticsearch-interaction">How <MadCap:variable name="General.abbrev"></MadCap:variable> interacts with Elasticsearch</h2>
        <p oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application sends the log messages to the official Elasticsearch client library, which forwards the data to the Elasticsearch nodes. The way <MadCap:variable name="General.abbrev"></MadCap:variable> interacts with Elasticsearch is described in the following steps.</p>
        <ul oldrole="itemizedlist">
            <li oldrole="listitem">
                <p oldrole="para">After <MadCap:variable name="General.abbrev"></MadCap:variable> is started and the first message arrives to the <span class="Code" oldrole="parameter">elasticsearch</span> destination, the <span class="Code" oldrole="parameter">elasticsearch</span> destination tries to connect to the Elasticsearch server or cluster. If the connection fails, <MadCap:variable name="General.abbrev"></MadCap:variable> will repeatedly attempt to connect again after the period set in <span class="Code" oldrole="parameter">time-reopen()</span> expires.</p>
            </li>
            <li oldrole="listitem">
                <p oldrole="para">If the connection is established, <MadCap:variable name="General.abbrev"></MadCap:variable> sends JSON-formatted messages to Elasticsearch.</p>
                <MadCap:snippetBlock src="../../shared/chunk/option-destination-elasticsearch-flush-limit-description.htm">
                </MadCap:snippetBlock>
            </li>
        </ul>
        <h2 name="destination-elasticsearch-client-modes">Client modes</h2>
        <p oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application can interact with Elasticsearch in transport mode or node mode.</p>
        <ul oldrole="itemizedlist">
            <li oldrole="listitem">
                <h6 oldrole="formalpara">Transport mode</h6>
                <p oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application uses the transport client API of Elasticsearch, and uses the <span class="Code" oldrole="parameter">server()</span>, <span class="Code" oldrole="parameter">port()</span>, and <span class="Code" oldrole="parameter">cluster()</span> options from the <MadCap:variable name="General.abbrev"></MadCap:variable> configuration file.</p>
            </li>
            <li oldrole="listitem">
                <h6 oldrole="formalpara">Node mode</h6>
                <p oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application acts as an Elasticsearch node (client no-data), using the node client API of Elasticsearch. Further options for the node can be describe in an Elasticsearch configuration file specified in the <span class="Code" oldrole="parameter">resource()</span> option.</p>
                <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
                    </col>
                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
                    </col>
                    <tbody>
                        <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                                <p>
                                    <img src="../../Resources/Images/Common/note.png" />
                                </p>
                            </td>
                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                                <p oldrole="para">In Node mode, it is required to define the home of the elasticsearch installation with the <span class="Code" oldrole="parameter">path.home</span> paramter in the <span class="Code" oldrole="filename">.yml</span> file. For example: <span class="Code" oldrole="userinput">path.home: /usr/share/elasticsearch</span>.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </li>
        </ul>
        <h2 name="reference-destination-elasticsearch">Elasticsearch destination options</h2>
        <MadCap:keyword term="destination drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;java()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <MadCap:keyword term="destination drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;elasticsearch&lt;/span&gt;]">
        </MadCap:keyword>
        <p oldrole="para">The <span class="Code" oldrole="parameter">elasticsearch</span> destination can directly send log messages to <a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a>, allowing you to search and analyze your data in real time, and visualize it with <a href="https://www.elastic.co/products/kibana">Kibana</a>. The <span class="Code" oldrole="parameter">elasticsearch</span> destination has the following options.</p>
        <h6 oldrole="formalpara">Required options:</h6>
        <p oldrole="para">The following options are required: <span class="Code" oldrole="parameter">index()</span>, <span class="Code" oldrole="parameter">type()</span>. In node mode, the <span class="Code" oldrole="parameter">cluster()</span> and the <span class="Code" oldrole="parameter">resource()</span> options are required as well. Note that to use <span class="Code" oldrole="parameter">elasticsearch</span>, you must add the following lines to the beginning of your <MadCap:variable name="General.abbrev"></MadCap:variable> configuration:</p><pre class="Code" oldrole="synopsis">@module mod-java
@include "scl.conf"</pre>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-java-class-path.htm">
        </MadCap:snippetBlock>
        <p oldrole="para">For the <span class="Code" oldrole="parameter">elasticsearch</span> destination, include the path to the directory where you copied the required libraries (see <MadCap:xref href="destination-elasticsearch-prerequisites.htm#destination-elasticsearch-prerequisites"></MadCap:xref>), for example, <span class="Code" oldrole="userinput">client-lib-dir("/opt/elasticsearch/libs")</span>.</p>
        <h6 name="elasticsearch-option-elasticsearch-client-mode" oldrole="simplesect">client-mode()</h6>
        <MadCap:keyword term="client-mode():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['client-mode']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">transport | node</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">node</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> Specifies the client mode used to connect to the Elasticsearch server, for example, <span class="Code" oldrole="userinput">client-mode("node")</span>.</p>
        <ul oldrole="itemizedlist">
            <li oldrole="listitem">
                <h6 oldrole="formalpara">Transport mode</h6>
                <p oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application uses the transport client API of Elasticsearch, and uses the <span class="Code" oldrole="parameter">server()</span>, <span class="Code" oldrole="parameter">port()</span>, and <span class="Code" oldrole="parameter">cluster()</span> options from the <MadCap:variable name="General.abbrev"></MadCap:variable> configuration file.</p>
            </li>
            <li oldrole="listitem">
                <h6 oldrole="formalpara">Node mode</h6>
                <p oldrole="para">The <MadCap:variable name="General.abbrev"></MadCap:variable> application acts as an Elasticsearch node (client no-data), using the node client API of Elasticsearch. Further options for the node can be describe in an Elasticsearch configuration file specified in the <span class="Code" oldrole="parameter">resource()</span> option.</p>
                <table cellspacing="0" class="TableStyle-NoteTable_Blue_DoNotEdit" oldrole="note" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');">
                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;">
                    </col>
                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2">
                    </col>
                    <tbody>
                        <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                                <p>
                                    <img src="../../Resources/Images/Common/note.png" />
                                </p>
                            </td>
                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1"><span class="AllNoteStyles">NOTE: </span>
                                <p oldrole="para">In Node mode, it is required to define the home of the elasticsearch installation with the <span class="Code" oldrole="parameter">path.home</span> parameter in the <span class="Code" oldrole="filename">.yml</span> file. For example: <span class="Code" oldrole="userinput">path.home: /usr/share/elasticsearch</span>.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </li>
        </ul>
        <h6 name="elasticsearch-option-elasticsearch-cluster" oldrole="simplesect">cluster()</h6>
        <MadCap:keyword term="cluster():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['cluster']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">string</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">N/A</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> Specifies the name or the Elasticsearch cluster, for example, <span class="Code" oldrole="userinput">cluster("my-elasticsearch-cluster")</span>. Optionally, you can specify the name of the cluster in the Elasticsearch resource file. For details, see <MadCap:xref href="destination-elasticsearch.htm#elasticsearch-option-elasticsearch-resource"></MadCap:xref>.</p>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-elasticsearch-cluster-url.htm">
        </MadCap:snippetBlock>
        <h6 name="elasticsearch-option-elasticsearch-concurrent-requests" oldrole="simplesect">concurrent-requests()</h6>
        <MadCap:keyword term="concurrent-requests():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['concurrent-requests']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">number</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">0</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <MadCap:keyword term="elasticsearch:['performance']">
        </MadCap:keyword>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> The number of concurrent (simultaneous) requests that <MadCap:variable name="General.abbrev"></MadCap:variable> sends to the Elasticsearch server. Set this option to 1 or higher to increase performance. When using the <span class="Code" oldrole="parameter">concurrent-requests()</span> option, make sure that the <span class="Code" oldrole="parameter">flush-limit()</span> option is higher than one, otherwise it will not have any noticeable effect. For details, see <MadCap:xref href="destination-elasticsearch.htm#elasticsearch-option-elasticsearch-flush-limit"></MadCap:xref>.</p>
        <table cellspacing="0" class="TableStyle-NoteTable_Yellow_DoNotEdit" oldrole="warning" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Yellow_DoNotEdit.css');">
            <col class="TableStyle-NoteTable_Yellow_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
            <col class="TableStyle-NoteTable_Yellow_DoNotEdit-Column-Column2">
            </col>
            <tbody>
                <tr class="TableStyle-NoteTable_Yellow_DoNotEdit-Body-Body1">
                    <td class="TableStyle-NoteTable_Yellow_DoNotEdit-BodyB-Column1-Body1">
                        <p>
                            <img src="../../Resources/Images/Common/caution.png" />
                        </p>
                    </td>
                    <td class="TableStyle-NoteTable_Yellow_DoNotEdit-BodyA-Column2-Body1"><span class="Yellow">Caution: </span>
                        <p oldrole="para">Hazard of data loss! Using the <span class="Code" oldrole="parameter">concurrent-requests()</span> option increases the number of messages lost in case the Elasticsearch server becomes unaccessible.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h6 name="elasticsearch-option-elasticsearch-custom-id" oldrole="simplesect">custom-id()</h6>
        <MadCap:keyword term="custom-id():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['custom-id']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">template or template function</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">N/A</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> Use this option to specify a custom ID for the records inserted into Elasticsearch. If this option is not set, the Elasticsearch server automatically generates and ID for the message. For example: <span class="Code" oldrole="userinput">custom-id(${UNIQID})</span> (Note that to use the <span class="Code" oldrole="userinput">${UNIQID}</span> macro, the <span class="Code" oldrole="parameter">use-uniqid()</span> global option must be enabled. For details, see <MadCap:xref href="reference-options.htm#global-use-uniqid"></MadCap:xref>.)</p>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-diskbuffer.htm">
        </MadCap:snippetBlock>
        <h6 name="elasticsearch-option-elasticsearch-flush-limit" oldrole="simplesect">flush-limit()</h6>
        <MadCap:keyword term="flush-limit():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['flush-limit']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">number</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">5000</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <MadCap:keyword term="elasticsearch:['performance']">
        </MadCap:keyword>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> The number of messages that <MadCap:variable name="General.abbrev"></MadCap:variable> sends to the Elasticsearch server in a single batch.</p>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-elasticsearch-flush-limit-description.htm">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-frac-digits.htm">
        </MadCap:snippetBlock>
        <h6 name="elasticsearch-option-elasticsearch-index" oldrole="simplesect">index()</h6>
        <MadCap:keyword term="index():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['index']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">string</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">N/A</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> Name of the Elasticsearch index to store the log messages. You can use macros and templates as well. For example, <span class="Code" oldrole="userinput">index("syslog-ng_${YEAR}.${MONTH}.${DAY}")</span>.</p>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-jvm-options.htm">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-log-fifo-size.htm">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-on-error.htm">
        </MadCap:snippetBlock>
        <h6 name="elasticsearch-option-elasticsearch-port" oldrole="simplesect">port()</h6>
        <MadCap:keyword term="port():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['port']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">number</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">9300</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> The port number of the Elasticsearch server. This option is used only in transport mode: <span class="Code" oldrole="userinput">client-mode("transport")</span></p>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-retries.htm">
        </MadCap:snippetBlock>
        <h6 name="elasticsearch-option-elasticsearch-resource" oldrole="simplesect">resource()</h6>
        <MadCap:keyword term="resource():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['resource']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">string</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">N/A</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> The list of Elasticsearch resources to load, separated by semicolons. For example, <span class="Code" oldrole="userinput">resource("/home/user/elasticsearch/elasticsearch.yml;/home/user/elasticsearch/elasticsearch2.yml")</span>.</p>
        <h6 name="elasticsearch-option-elasticsearch-server" oldrole="simplesect">server()</h6>
        <MadCap:keyword term="server():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['server']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">list of hostnames</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">127.0.0.1</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> Specifies the hostname or IP address of the Elasticsearch server. When specifying an IP address, IPv4 (for example, <span class="Code" oldrole="userinput">192.168.0.1</span>) or IPv6 (for example, <span class="Code" oldrole="userinput">[::1]</span>) can be used as well. When specifying multiple addresses, use space to separate the addresses, for example, <span class="Code" oldrole="userinput">server("127.0.0.1 remote-server-hostname1 remote-server-hostname2")</span></p>
        <p oldrole="para">This option is used only in transport mode: <span class="Code" oldrole="userinput">client-mode("transport")</span></p>
        <h6 name="elasticsearch-option-elasticsearch-template" oldrole="simplesect">template()</h6>
        <MadCap:keyword term="template():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['template']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">template or template function</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">$(format-json --scope rfc5424 --exclude DATE --key ISODATE @timestamp=${ISODATE})</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> The message as sent to the Elasticsearch server. Typically, you will want to use the command-line notation of the <span class="Code" oldrole="userinput">format-json</span> template function.</p>
        <p oldrole="para">To add a <span class="Code" oldrole="userinput">@timestamp</span> field to the message, for example, to use with Kibana, include the <span class="Code" oldrole="userinput">@timestamp=${ISODATE}</span> expression in the template. For example: <span class="Code" oldrole="userinput">template($(format-json --scope rfc5424 --exclude DATE --key ISODATE @timestamp=${ISODATE}))</span></p>
        <p oldrole="para">For details on formatting messages in JSON format, see <MadCap:xref href="reference-template-functions.htm#template-function-format-json"></MadCap:xref>.</p>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-throttle.htm">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-timezone.htm">
        </MadCap:snippetBlock>
        <MadCap:snippetBlock src="../../shared/chunk/option-destination-ts-format.htm">
        </MadCap:snippetBlock>
        <h6 name="elasticsearch-option-elasticsearch-type" oldrole="simplesect">type()</h6>
        <MadCap:keyword term="type():['elasticsearch']">
        </MadCap:keyword>
        <MadCap:keyword term="elasticsearch:['type']">
        </MadCap:keyword>
        <table cellspacing="0" class="RuledTableWithHeading_DoNotEdit" colsep="0" frame="topbot" rowsep="0" style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/RuledTableWithHeading_DoNotEdit.css');">
            <tbody>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Type:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">string</td>
                </tr>
                <tr class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">Default:</td>
                    <td class="TableStyle-RuledTableWithHeading_DoNotEdit-Body-Body1">N/A</td>
                </tr>
            </tbody>
            <col class="TableStyle-RuledTableWithHeading_DoNotEdit-Column-Column1" style="width: 0.3in;">
            </col>
        </table>
        <p oldrole="para"><i oldrole="emphasis" role="bold">Description:</i> The type of the index. For example, <span class="Code" oldrole="userinput">type("test")</span>.</p>
    </body>
</html>