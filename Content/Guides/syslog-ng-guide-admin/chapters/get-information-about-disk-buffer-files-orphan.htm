<?xml version="1.0" encoding="utf-8"?>
<html>
    <head>
    </head>
    <body name="get-information-about-disk-buffer-files-orphan">
        <h1 name="get-information-about-disk-buffer-files-orphan">Orphan disk-buffer files</h1>
        <h6 MadCap:conditions="CommonConditions_DoNotEdit.DoNotPublish" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">Purpose</h6>
        <p>This section describes orphan disk-buffer files  used in <MadCap:variable name="General.product" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" />(<MadCap:variable name="General.abbrev" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" />).</p>
        <h6>Orphan disk-buffer files</h6>
        <MadCap:snippetBlock src="../../shared/chunk/orphan-d-buf-intro.flsnp" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" />
        <h6>Discovering the new disk-buffer files (orphan disk-buffer files)</h6>
        <p>To discover orphan disk-buffer files, get the list of disk-buffer files from the persist file, then compare the list with the contents of the disk-buffer files' saving directory.</p>
        <p>For more information about how you can get the list of disk-buffer files from the persist file, see <MadCap:xref href="get-information-about-disk-buffer-files-getting-list.htm" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><span style="color: #04aada;" class="mcFormatColor">Getting the list of disk-buffer files</span></MadCap:xref>).</p>
        <div class="Example">
            <h6>Example: difference between the list of disk-buffer files from the persist file and the content of the disk-buffer files' saving directory</h6>
            <p>The following examples show the difference between the list of disk-buffer files from the persist file and the content of the disk-buffer files' saving directory.</p>
            <p>Disk-buffer file list from persist file:
            </p><pre>afsocket_dd_qfile(stream,10.21.10.112:514) = { "queue_file": <span style="font-weight: bold;font-style: normal;">"/opt/syslog-ng/var/syslog-ng-00001.rqf"</span> }</pre>
            <p>Disk-buffer files' saving directory content:
            </p><pre># ls -l <MadCap:conditionalText MadCap:conditions="General.PE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/opt/syslog-ng/var/</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/var/lib/syslog-ng/</MadCap:conditionalText>*qf
-rw------- 1 root root 2986780 Jul 31 12:30 <MadCap:conditionalText MadCap:conditions="General.PE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/opt/syslog-ng/var/syslog-ng-00000.qf</MadCap:conditionalText><MadCap:conditionalText MadCap:conditions="General.OSE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">/var/lib/syslog-ng/syslog-ng-00000.qf</MadCap:conditionalText>
-rw------- 1 root root 2000080 Jul 31 12:31 /opt/syslog-ng/var/syslog-ng-00000.rqf
-rw------- 1 root root    4096 Aug  1 11:09 /<span style="font-weight: bold;font-style: normal;">opt/syslog-ng/var/syslog-ng-00001.rqf</span></pre>
        </div>
        <p>The disk-buffer files <span class="Code">syslog-ng-00000.qf</span> and <span class="Code">syslog-ng-00000.rqf</span> don't exist in the persist file. These two files are the  orphan disk-buffer files.</p>
        <p>For more information about orphan disk-buffer files and how to process the messages in orphan disk-buffer files using a separate <MadCap:variable name="General.abbrev" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" /> instance, see <MadCap:xref href="diskb-proc-sep-sysl-inst.htm" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><span style="color: #04aada;" class="mcFormatColor">How to process messages from an orphan disk-buffer file using a separate <MadCap:variable name="General.abbrev" /> instance</span></MadCap:xref>.</p>
    </body>
</html>