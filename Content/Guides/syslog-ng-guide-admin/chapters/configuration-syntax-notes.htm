<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"><body name="configuration-syntax-notes" oldrole="section">
<h1 name="configuration-syntax-notes">Notes about the configuration syntax</h1>
<p oldrole="para">When you are editing the syslog-ng configuration file, note the following points:</p>
<ul oldrole="itemizedlist">
<li oldrole="listitem">
<p oldrole="para">The configuration file can contain a maximum of 6665 source / destination / log elements.</p>
</li>
<li oldrole="listitem">
<p oldrole="para">When writing the names of options and parameters (or other reserved words), the hyphen (<span class="Code" oldrole="userinput">-</span>) and underscore (<span class="Code" oldrole="userinput">_</span>) characters are equivalent, for example <span class="Code" oldrole="userinput">max-connections(10)</span> and <span class="Code" oldrole="userinput">max_connections(10)</span> are both correct.</p>
</li>
<li oldrole="listitem">
<p oldrole="para">Numbers can be prefixed with <span class="Code" oldrole="userinput">+</span> or <span class="Code" oldrole="userinput">-</span> to indicate positive or negative values. Numbers beginning with zero (<span class="Code" oldrole="userinput">0</span>) or <span class="Code" oldrole="userinput">0x</span> are treated as octal or hexadecimal numbers, respectively.</p>
<p oldrole="para">Starting with <MadCap:variable name="General.abbrev"></MadCap:variable> version <MadCap:conditionaltext MadCap:conditions="ose">3.5</MadCap:conditionaltext>, you can use suffixes for kilo-, mega-, and gigabytes. Use the Kb, Mb, or Gb suffixes for the base-10 version, and Kib, Mib, or Gib for the base-2 version. That is, 2MB means 2000000, while 2MiB means 2097152. For example, to set the <span class="Code" oldrole="parameter">log-msg-size()</span> option to 2000000 bytes, use <span class="Code" oldrole="parameter">log-msg-size(2Mb)</span>.</p>
</li>
<li oldrole="listitem">
<p oldrole="para">You can use commas (<span class="Code" oldrole="userinput">,</span>) to separate options or other parameters for readability, syslog-ng completely ignores them. The following declarations are equivalent:</p>
<pre class="Code" oldrole="synopsis">source s_demo_stream {
        unix-stream("&lt;path-to-socket&gt;" max-connections(10) group(log)); };
source s_demo_stream {
        unix-stream("&lt;path-to-socket&gt;", max-connections(10), group(log)); };</pre>
</li>
<li oldrole="listitem">
<p oldrole="para">When enclosing object IDs (for example the name of a destination) between double-quotes (<span class="Code" oldrole="userinput">"mydestination"</span>), the ID can include whitespace as well, for example:</p>
<pre class="Code" oldrole="synopsis">source "s demo stream" {
        unix-stream("&lt;path-to-socket&gt;" max-connections(10) group(log)); };</pre>
</li>
<li oldrole="listitem">
<p oldrole="para">For notes on using regular expressions, see <MadCap:xref href="regular-expressions.htm#regular-expressions"></MadCap:xref>.</p>
</li>
<li name="conditional-expressions" oldrole="listitem" xreflabel="Configuring conditional expressions">
<p oldrole="para">You can use <span class="Code" oldrole="userinput">if {}</span>, <span class="Code" oldrole="userinput">elif {}</span>, and <span class="Code" oldrole="userinput">else {}</span> blocks to configure conditional expressions.</p>
<p oldrole="para">Conditional expressions have two formats:</p>
<ul oldrole="itemizedlist">
<li oldrole="listitem">
<p oldrole="para">Explicit filter expression:</p>
<pre class="Code" oldrole="synopsis">if (message('foo')) {
    parser { date-parser(); };
} else {
    ...
};</pre>
<p oldrole="para">This format only uses the filter expression in <span class="Code" oldrole="userinput">if()</span>. If the message contains <span class="Code" oldrole="userinput">'foo'</span> and the <span class="Code" oldrole="userinput">date-parser()</span> fails, the message is dropped and execution does not continue along the <span class="Code" oldrole="userinput">else</span> path. If <span class="Code" oldrole="userinput">if</span> does not contain <span class="Code" oldrole="userinput">'foo'</span>, the <span class="Code" oldrole="userinput">else</span> branch is taken.</p>
</li>
<li oldrole="listitem">
<p oldrole="para">Condition embedded in the log path:</p>
<pre class="Code" oldrole="synopsis">if {
    filter { message('foo')); };
    parser { date-parser(); };
} else {
    ...
};</pre>
<p oldrole="para">This format considers all filters and all parsers as the condition, combined. If the message contains <span class="Code" oldrole="userinput">'foo'</span> and the <span class="Code" oldrole="userinput">date-parser()</span> fails, the <span class="Code" oldrole="userinput">else</span> branch is taken. Similarly, if the message does not contain <span class="Code" oldrole="userinput">'foo'</span>, the <span class="Code" oldrole="userinput">else</span> branch is taken.</p>
</li>
</ul>
<p oldrole="para">An alternative, less straightforward way to implement conditional evaluation is to use junctions. For details on junctions and channels, see <MadCap:xref href="junctions.htm#junctions"></MadCap:xref>.</p>
</li>
</ul>
</body></html>
