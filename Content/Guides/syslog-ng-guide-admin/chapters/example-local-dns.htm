<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="example-local-dns" oldrole="procedure">
        <h1 name="example-local-dns">Resolving hostnames locally</h1>
        <MadCap:keyword term="name resolution:['local']">
        </MadCap:keyword>
        <h6 oldrole="formalpara">Purpose:</h6>
        <p oldrole="para">Resolving hostnames locally enables you to display hostnames in the log files for frequently used hosts, without having to rely on a DNS server. The known IP address <MadCap:variable name="General.ndash"></MadCap:variable> hostname pairs are stored locally in a file. In the log messages, syslog-ng will replace the IP addresses of known hosts with their hostnames. To configure local name resolution, complete the following steps:</p>
        <div><h6 oldrole="formalpara">Steps:</h6>
        <ol oldrole="procedure">
            <li oldrole="step">
                <p oldrole="para">Add the hostnames and the respective IP addresses to the file used for local name resolution. On Linux and UNIX systems, this is the <span class="Code" oldrole="filename">/etc/hosts</span> file. Consult the documentation of your operating system for details.</p>
            </li>
            <li oldrole="step">
                <p oldrole="para">Instruct syslog-ng to resolve hostnames locally. Set the <span class="Code" oldrole="parameter">use-dns()</span> option of syslog-ng to <span class="Code" oldrole="parameter">persist_only</span>.</p>
            </li>
            <li oldrole="step">
                <p oldrole="para">Set the <span class="Code" oldrole="parameter">dns-cache-hosts()</span> option to point to the file storing the hostnames.</p><pre class="Code" oldrole="synopsis">options {
    use-dns(persist_only);
    dns-cache-hosts(/etc/hosts);
};</pre>
            </li>
        </ol></div>
    </body>
</html>