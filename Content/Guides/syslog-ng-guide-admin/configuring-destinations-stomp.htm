<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="General.OSE">
    <head>
        <meta name="description" content="" />
    </head>
    <body name="configuring-destinations-stomp">
        <h1 name="configuring-destinations-stomp">stomp: Publishing messages using STOMP</h1>
        <MadCap:keyword term="destination drivers:[&lt;span class=&quot;Code&quot; oldrole=&quot;parameter&quot;&gt;stomp()&lt;/span&gt;, ' driver']">
        </MadCap:keyword>
        <p>The <span class="Code">stomp()</span> driver sends messages to servers (message brokers) using the <a href="http://stomp.github.io/">Simple (or Streaming) Text Oriented Message Protocol (STOMP)</a>, formerly known as TTMP. <MadCap:variable name="General.abbrev"></MadCap:variable> supports version 1.0 of the STOMP protocol. The <MadCap:variable name="General.abbrev"></MadCap:variable> <span class="Code">stomp()</span> driver supports persistence.</p>
        <p>The name-value pairs selected with the <span class="Code">value-pairs()</span> option will be sent as STOMP headers, while the body of the STOMP message is empty by default (but you can add custom content using the <span class="Code">body()</span> option). Publishing the name-value pairs as headers makes it possible to use the Headers exchange-type and subscribe only to interesting log streams.</p>
        <p>For the list of available parameters, see <MadCap:xref href="reference-destination-stomp.htm"><span style="color: #04aada;" class="mcFormatColor">stomp() destination options</span></MadCap:xref>.</p>
		<div>
        <h6>Declaration:</h6>
			<pre>stomp( host("&lt;stomp-server-address&gt;") );</pre>
		</div>
        <div class="Example">
            <h6 name="example-using-stomp"><a name="example-using-stomp"></a>Example: Using the stomp() driver</h6>
            <p>The following example shows the default values of the available options.</p><pre>destination d_stomp {
    stomp(
        host("localhost")
        port(61613)
        destination("/topic/syslog")
        body("")             # optional, empty by default
        persistent(yes)
        ack(no)
        username("user")     # optional, empty by default
        password("password") # optional, empty by default
        value-pairs(scope(selected-macros, nv-pairs, sdata))
    );
};</pre>
        </div>
    </body>
</html>